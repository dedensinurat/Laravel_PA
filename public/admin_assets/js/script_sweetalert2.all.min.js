
$(document).ready(function () {
    $('.delete-btn').click(function (e) {
        e.preventDefault(); // Mencegah perilaku default tombol submit

        var form = $(this).closest('.delete-form'); // Mendapatkan formulir terdekat yang mengandung tombol hapus
        var message = $(this).data('message') || 'Apakah Anda yakin?'; // Mendapatkan pesan konfirmasi dari atribut data

        Swal.fire({
            title: message,
            text: 'Anda tidak akan dapat mengembalikan ini!',
            icon: 'warning',
            showCancelButton: true,
            confirmButtonText: 'Ya, hapus!',
            cancelButtonText: 'Batal',
            reverseButtons: true
        }).then((result) => {
            if (result.isConfirmed) {
                // Submit formulir secara manual jika pengguna mengonfirmasi
                form.submit();
            } else if (result.dismiss === Swal.DismissReason.cancel) {
                Swal.fire({
                    title: 'Dibatalkan',
                    text: 'Data masih aman :)',
                    icon: 'error'
                });
            }
        }).catch((error) => {
            Swal.fire({
                title: 'Error!',
                text: 'Terjadi kesalahan saat menghapus data.',
                icon: 'error'
            });
        });
    });
});


function confirmUpdate(formId) {
    // Tampilkan sweetalert konfirmasi
    Swal.fire({
        title: 'Anda yakin?',
        text: "Anda akan menyimpan perubahan ini!",
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#3085d6',
        cancelButtonColor: '#d33',
        confirmButtonText: 'Ya, simpan perubahan!'
    }).then((result) => {
        // Jika pengguna mengklik tombol "Ya"
        if (result.isConfirmed) {
            // Submit formulir
            document.getElementById(formId).submit();
        }
    });
}